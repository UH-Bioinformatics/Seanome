function displayMSA(c){$("#msaParent").html("<div id = 'msa'></div>");if((!$("#aln").val())||(!$("input[name=clean]:checked").val())){return}var a=c+"/ajax/msa/"+$("#aln").val()+$("input[name=clean]:checked").val()+"/";biojs.io.fasta.parse.read(a,function(e){e.forEach(function(g){g.name=$.trim(g.name);var f=g.name.indexOf(" ");if(f!=-1){g.name=g.name.substring(0,f)}});var d=new biojs.vis.msa.msa({el:document.getElementById("msa"),seqs:e,speed:true,keyevents:true,zoomer:{labelWidth:300},vis:{conserv:false,markers:false,labelId:false,labelPartition:false},conf:{registerMouseClicks:false}}).render()})}function displayTable(a){("#snpParent").html("");if($("input[name=clean]:checked").val()!=1){return}url=a+"/ajax/snp/"+$("#aln").val();$.get(url,function(d){if(d.length==0){return}var c=Object.keys(d[0].counts),e="<tr><th>Position</th><th>Reference</th><th>Alts.</th>";html="<table id = 'snptbl' class ='table table-striped table-bordered'>";c.forEach(function(f){e+="<th><div class = 'row' style = 'width:300px'><span class = 'col-md-12 text-center'>"+f+"</span></div><div class = 'row'><div class = 'col-md-6 text-center'>Allele Freq.</div><div class = 'col-md-6 text-center'>Counts</div></div></th>"});e+="</tr>";html+="<thead>"+e+"</thead><tfoot>"+e+"</tfoot><tbody>";d.forEach(function(f){html+="<tr><td>"+f.pos+"</td><td>"+f.ref+"</td><td>"+f.alts.join(", ")+"</td>";c.forEach(function(g){var j=[];var i=0;for(b in f.counts[g]){j.push(b+": "+f.counts[g][b]);i+=f.counts[g][b]}var h=[];for(b in f.counts[g]){if(i!=0){h.push(b+": "+(f.counts[g][b]/i).toFixed(3))}else{h.push(b+": 0.000")}}html+="<td><div class = 'row' style = 'width:300px'><div class = 'col-md-6 text-center'>"+h.join("<br />")+"</div><div class = 'col-md-6 text-center'>"+j.join("<br />")+"</div></div></td>"});html+="</tr>"});html+="</tbody></table>";$("#snpParent").html(html);$("#snptbl").dataTable({iDisplayLength:10,scrollX:true})},"json")};