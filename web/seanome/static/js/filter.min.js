function createChart(c,k,n,g){var h={top:20,right:20,bottom:30,left:60},d=900-h.left-h.right,p=300-h.top-h.bottom,b=d3.select("#toolbox"),f=d3.extent(k,function(s,r){return s[0]}),o=d3.extent(k,function(r){return(r[1]==0)?1:r[1]}),m=0,l=0,j=function(r){return r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};if(f[1]-f[0]<=100){m=d3.scale.linear().range([0,d]).domain(f)}else{m=d3.scale.log().range([0,d]).domain(f)}if(o[1]-o[0]<=100){l=d3.scale.linear().range([p,0]).domain(o)}else{l=d3.scale.log().range([p,0]).domain(o)}var e=d3.svg.axis().scale(m).orient("bottom"),a=d3.svg.axis().scale(l).orient("left"),q=d3.svg.line().x(function(s,r){return m(s[0])}).y(function(r){return l((r[1]==0)?1:r[1])}),i=d3.select(n).attr("width",d+h.left+h.right).attr("height",p+h.top+h.bottom).append("g").attr("transform","translate("+h.left+","+h.top+")");i.append("g").attr("class","x axis").attr("transform","translate(0,"+p+")").call(e);i.append("g").attr("class","y axis").call(a);i.append("path").datum(k).attr("class","line").attr("d",q);i.append("text").attr("transform","translate("+(d/2)+" ,"+(p+h.bottom)+")").style("text-anchor","middle").text("Cluster size");i.append("text").attr("transform","translate("+(d/2)+" ,"+(h.top)+")").style("text-anchor","middle").text("Breakdown of cluster size for "+c);i.append("text").attr("transform","rotate(-90)").attr("y",0-h.left).attr("x",0-(p/2)).attr("dy","1em").style("text-anchor","middle").text("Number of clusters");i.selectAll("dot").data(k).enter().append("circle").attr("r",2).attr("cx",function(r){return m(r[0])}).attr("cy",function(r){return l(r[1])}).on("mouseover",function(r){b.transition().duration(200).style("opacity",0.9);b.html(j(r[2])+" cluster(s) of size "+j(r[0])+"<br/>"+j(r[1])+" cluster(s) of size >= "+j(r[0])).style("left",(d3.event.pageX)+"px").style("top",(d3.event.pageY-28)+"px")}).on("click",function(r){$(g).val(r[0])}).on("mouseout",function(r){b.transition().duration(500).style("opacity",0)})};