function setcovVals(b,e,a){var d=parseInt($(b).val());if(d in a){$(e).val(a[d])}else{$(e).val("???")}}function ondownload(b,a,e,d){var c=parseInt($(a).val());d=parseInt(d);e=parseInt(e);if(c>d||c<e){alert("Coverage must be between: "+e+" and "+d);return}b+="?cutoff="+$(a).val();window.location.assign(b)}function createChart(i,l,h){var e={top:20,right:20,bottom:50,left:120},c=1100-e.left-e.right,n=300-e.top-e.bottom,b=d3.select("#toolbox"),m=d3.extent(i,function(q,p){return q[0]}),g=d3.extent(i,function(p){return(p[1]==0)?1:p[1]}),k="",j="";if(m[1]-m[0]>100){k=d3.scale.log().range([0,c]).domain(m)}else{k=d3.scale.linear().range([0,c]).domain(m)}j=d3.scale.linear().range([n,0]).domain(d3.extent(i,function(p){return(p[1]==0)?1:p[1]}));prettyprint=function(p){return p.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};var d=d3.svg.axis().scale(k).orient("bottom"),a=d3.svg.axis().scale(j).orient("left"),o=d3.svg.line().x(function(q,p){return k(q[0])}).y(function(p){return j((p[1]==0)?1:p[1])}),f=d3.select(l).attr("width",c+e.left+e.right).attr("height",n+e.top+e.bottom).append("g").attr("transform","translate("+e.left+","+e.top+")");f.append("g").attr("class","x axis").attr("transform","translate(0,"+n+")").call(d);f.append("g").attr("class","y axis").call(a);f.append("path").datum(i).attr("class","line").attr("d",o);f.append("text").attr("transform","translate("+(c/2)+" ,"+(n+e.bottom-8)+")").style("text-anchor","middle").text("Coverage");f.append("text").attr("transform","rotate(-90)").attr("y",0-e.left).attr("x",0-(n/2)).attr("dy","1em").style("text-anchor","middle").text("Number of CSRs");f.selectAll("dot").data(i).enter().append("circle").attr("r",3).attr("cx",function(p){return k(p[0])}).attr("cy",function(p){return j(p[1])}).on("mouseover",function(p){b.transition().duration(200).style("opacity",0.9);b.html("Minimum coverage: "+prettyprint(p[0])+"<br/>Total number of CSRs: "+prettyprint(p[1])).style("left",(d3.event.pageX)+"px").style("top",(d3.event.pageY-28)+"px")}).on("click",function(p){$(h).select2("val",p[0]);$(h).trigger("change")}).on("mouseout",function(p){b.transition().duration(500).style("opacity",0)})};